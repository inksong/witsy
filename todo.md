# ChatChat 项目改进计划

## TODO 列表

### TODO-001: WebView Artifacts 渲染功能
**描述**: 参考 Chatwise 产品，改进当前的代码和内容渲染方式，在右侧添加 WebView 实时预览功能。
**任务**:
- [ ] 在界面右侧添加 WebView 组件
- [ ] 实现 WebView 与主界面的通信机制
- [ ] 添加 WebView 的加载和错误处理
- [ ] 为各类型生成内容添加实时预览
- [ ] 添加预览/代码切换按钮
- [ ] 优化预览窗口的大小调整
- [ ] 添加全屏预览模式


### TODO-002: 用户上传文件预览功能
**描述**: 支持用户上传的文件在 WebView 中直接预览，复用 WebView 渲染组件。
**任务**:
- [ ] 为上传的文件添加预览功能
- [ ] 支持常见文件格式的预览（PDF、图片、文本等）
- [ ] 实现预览和原始文件之间的切换
- [ ] 添加文件下载选项


### TODO-003: 产品品牌与界面更新
**描述**: 更新产品名称、品牌颜色和整体界面风格。
**任务**:
- [ ] 将产品名从 Witsy 更改为 ChatChat
- [ ] 将主题色更新为 #165DFF
- [ ] 更新所有相关图标和品牌资产
- [ ] 调整界面布局以匹配新的品牌形象


### TODO-004: 本地模型服务转型
**描述**: 限制在线大模型服务商链接，转为仅支持本地大模型和服务。
**任务**:
- [ ] 移除或隐藏 OpenAI 等在线服务提供商选项
- [ ] 移除在线 TTS 服务，改为支持本地 TTS 服务
- [ ] 强化本地模型的安装和配置流程
- [ ] 更新文档，明确支持的本地模型类型


### TODO-005: MCP 插件内置
**描述**: 将 Model Context Protocol 插件直接内置到应用中，不再关联外部插件市场。
**任务**:
- [ ] 将必要的 MCP 插件代码集成到核心代码库
- [ ] 移除外部 MCP 插件市场的依赖
- [ ] 为内置插件创建管理界面
- [ ] 确保所有内置插件的正常功能


### TODO-006: Artifacts 渲染支持扩展
**描述**: 扩展对各种生成内容类型的渲染支持，参照 Chatwise 的布局和交互。
**任务**:
- [ ] 支持 HTML/CSS 代码渲染
- [ ] 支持 React 组件渲染
- [ ] 支持数据可视化图表渲染
- [ ] 支持 Markdown 文档渲染
- [ ] 支持 JSON/XML 数据渲染
- [ ] 支持表格数据渲染
- [ ] 实现 Code/View 切换功能
- [ ] 改进代码高亮显示
- [ ] 添加代码编辑功能
- [ ] 支持导出渲染后的内容


### TODO-007: UI 设计美学优化
**描述**: 基于参考产品的设计美学，优化整体用户界面体验。
**任务**:
- [ ] 实现分栏式布局（左侧对话，右侧预览）
- [ ] 采用极简风格，优化留白和色彩运用
- [ ] 优化用户交互设计
  - [ ] 改进输入区域的直观性
  - [ ] 优化预览/代码切换按钮样式
  - [ ] 精简功能按钮设计
- [ ] 改进预览展示设计
  - [ ] 优化内容呈现，提高清晰度
  - [ ] 添加合适的上下文信息
  - [ ] 建立清晰的视觉层次
- [ ] 应用设计美学原则
  - [ ] 确保设计元素一致性
  - [ ] 优化对比度以提高可读性
  - [ ] 严格应用对齐原则
  - [ ] 保持元素比例协调
- [ ] 实现响应式设计，适应不同屏幕尺寸
- [ ] 优化实时渲染性能
- [ ] 添加交互式功能（放大、复制、导出等）
整体布局设计
1. 分栏布局：
- 左侧为对话/输入区域，右侧为预览区域
- 这种分离式布局使用户可以同时看到输入的提示和生成的结果
- 分栏比例适当，大约为 40:60，给予预览区域足够的显示空间
2. 极简风格：
- 整体采用清爽简洁的设计语言
- 留白适当，不会感到拥挤
- 色彩运用克制，主要使用中性色调
- 功能按钮保持最小化，不占据太多视觉空间
用户交互设计
1. 直观的输入区域：
- 输入框清晰易识别，带有提示文本
- 顶部展示已输入的查询
- 底部有清晰的输入欄，带有辅助按钮
2. 切换模式：
- 底部的 "Code"/"Preview" 标签可以切换视图模式
- 这种设计让用户可以根据需要查看代码或渲染结果
- 当前激活的选项有明显的视觉区分
3. 功能按钮：
- 右上角的关闭按钮位置符合习惯
- 预览窗口右下角的操作按钮布局合理
- 图标简洁明了，含义直观

预览展示设计
1. 内容呈现：
- 图表渲染清晰，有网格线辅助阅读
- 使用了恰当的比例和刻度
- 数据标签清晰可见
- 柱状图使用柔和的紫色，视觉效果舒适
2. 上下文信息：
- 顶部有标题 "US GDP Growth Bar Chart"
- 图表包含年份标签和增长率数值
- 坐标轴刻度清晰
3. 视觉层次：
- 图表内容是视觉焦点
- 辅助元素（网格线、坐标轴）使用浅色，不抢夺注意力
- 重要数据（柱状图）使用饱和度较高的颜色

技术实现要点
1. 响应式设计：
- 图表会适应容器大小
- 网格线间距合理，不会过密或过疏
2. 实时渲染：
- 从截图可见，系统能够将用户的文本请求转换为可视化图表
- 渲染速度快，结果即时展示
3. 交互性：
- 提供导出/复制功能
- 可以在代码和预览之间切换

美学原则应用
1. 一致性：
- 字体、间距、颜色使用一致
- 交互元素风格统一
2. 对比度：
- 文本与背景对比度适当，保证可读性
- 数据与背景有足够区分
3. 对齐：
- 元素对齐整齐，创造秩序感
- 图表内部元素也严格对齐
4. 比例：
- 元素大小比例协调
- 内容与容器比例适当

可借鉴的设计经验
1. 分离式布局的优势：
- 将输入和输出分开，让用户能同时看到指令和结果
- 可以并排比较不同版本的输出
2. 轻量级UI元素：
- 功能按钮小而精，不占用太多空间
- 着重展示内容而非界面元素
3. 即时反馈机制：
- 用户输入后立即看到结果
- 提供了结果的多种查看方式（代码/预览）
4. 信息展示的层次感：
- 主要信息（图表）突出
- 辅助信息（说明文字）次要但清晰


## 技术调研

- 研究 Electron 中 WebView 的最佳实践
- 调研安全沙箱限制及解决方案
- 考察现有的轻量级渲染库
- 研究本地 TTS 服务的实现方案
- 评估本地大模型的性能和资源需求
- 研究现代 UI 框架中的分栏布局最佳实践
- 调研数据可视化库的渲染性能

## 预期效果

完成后，用户将能够：
1. 享受全新的 ChatChat 品牌体验
2. 使用本地模型获得隐私保护和离线工作能力
3. 在应用内直接预览生成的内容和上传的文件
4. 通过 Code/View 切换轻松查看不同视图
5. 获得与 Chatwise 类似的高质量用户体验
6. 体验更加直观、美观和高效的界面设计 